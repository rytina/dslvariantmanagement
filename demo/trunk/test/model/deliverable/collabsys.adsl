featuremodel "platform:/resource/org.openarchitectureware.demo.fm/org.openarchitectureware.demo.fm.xfm.xmi";

import 'components/logic.adsl'
import 'components/ui.adsl'
     


deliverablesystem collabsys  feature Forum {
	instance forumUI : ForumUI ;
	
	instance forumDispatcher : MessageDispatcher
	config {
		p1 = "forum dipatcher config"
	};
	instance forumService : ForumService;
	
	//connect ui to dispatcher
	connect forumUI.rDispatcher to forumDispatcher.pUI;
	
	//connect dispatcher to MessagingService
	connect forumDispatcher.rService to forumService.pDispatcher;
	 		 
	
	
}
	
	
deliverablesystem collabsys feature  MicroBlogging {
	instance mbUI : MicroBloggingUI ;
	
	instance mbDispatcher : MessageDispatcher
	config {
		p1 = "MicroBlogging dipatcher config"
	};
	instance mbService : MicroBloggingService;
	
	//connect ui to dispatcher
	connect mbUI.rDispatcher to mbDispatcher.pUI;
	
	//connect dispatcher to MessengerService
 	connect mbDispatcher.rService to mbService.pDispatcher;
 	

}


deliverablesystem collabsys feature SynchronousConferencing {
	instance imUI : InstantMessagingUI; 
	
	instance imDispatcher : MessageDispatcher	
	config {
		p1 = "Hallo: Meine Config"
	};
	instance imService : InstantMessagingService;
	
	//connect ui to dispatcer
	connect imUI.rDispatcher to imDispatcher.pUI;
	
	//connect dispatcher to MessengerService
	connect imDispatcher.rService to imService.pDispatcher;
	
	instance audio : TelephoneConnection feature TelephoneIntegration;
	instance audio : VOIPConnection      feature VoiceOverIP;
	
	connect imService.audioCon to audio.audioCon;
	
}	

